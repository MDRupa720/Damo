<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Add Student</title>
  <style>
    :root { --bg:#f6f7fb; --card:#fff; --text:#1f2937; --muted:#6b7280; --border:#e5e7eb; --primary:#2563eb; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Ubuntu,Arial;background:var(--bg);color:var(--text)}
    .container{max-width:560px;margin:40px auto;padding:0 16px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:16px}
    h1{font-size:22px;margin:0 0 12px}
    .row{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}
    label{font-size:13px;color:var(--muted)}
    input, select{height:40px;border:1px solid var(--border);border-radius:8px;padding:0 12px;font-size:14px;outline:none;background:#fff}
    .actions{display:flex;gap:10px;align-items:center;margin-top:8px}
    .btn{background:var(--primary);color:#fff;border:none;border-radius:8px;padding:10px 14px;cursor:pointer}
    .msg{margin-top:12px;font-size:14px}
    .ok{color:#065f46}.err{color:#b91c1c}
    .tiny-note{font-size:13px;color:var(--muted)}
  </style>
</head>
<body>
  <div class="container">
    <div class="card">
      <h1>নতুন স্টুডেন্ট ডেটা যোগ করুন</h1>
      <form id="studentForm" method="post" action="form.php" novalidate>
        <input type="hidden" name="action" value="create"/>
        <div class="row">
          <label for="name">Name</label>
          <input id="name" name="name" type="text" placeholder="যেমন: Akash" required>
        </div>
        <div class="row">
          <label for="class">Class</label>
          <select id="class" name="class" required>
            <option value="">Select...</option>
            <option value="Play">Play</option>
            <option value="Nursery">Nursery</option>
            <option value="Kg">Kg</option>
            <option value="1">1</option><option value="2">2</option><option value="3">3</option>
            <option value="4">4</option><option value="5">5</option><option value="6">6</option>
            <option value="7">7</option><option value="8">8</option><option value="9">9</option>
            <option value="10">10</option>
          </select>
          <div class="tiny-note">Play, Nursery, Kg, বা 1–10</div>
        </div>
        <div class="row">
          <label for="roll">Roll</label>
          <input id="roll" name="roll" type="number" min="1" max="100" placeholder="1-100" required>
        </div>
        <div class="actions">
          <button class="btn" type="submit">Submit</button>
          <a class="tiny-note" href="student%20data%20delete.html">→ Delete/List পেজে যান</a>
        </div>
        <div id="msg" class="msg"></div>
      </form>
    </div>
  </div>

  <script>
    const form = document.getElementById('studentForm');
    const msg  = document.getElementById('msg');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      msg.textContent = '';
      try {
        const fd = new FormData(form);
        const res = await fetch('form.php', { method: 'POST', body: fd });
        const data = await res.json();
        if (!data.success) { msg.className='msg err'; msg.textContent=data.message||'সেভ করা যায়নি।'; }
        else { msg.className='msg ok'; msg.textContent='সফলভাবে সেভ হয়েছে! ('+data.filename+')'; form.reset(); }
      } catch (err) {
        console.error(err); msg.className='msg err'; msg.textContent='সার্ভার ত্রুটি। পরে চেষ্টা করুন।';
      }
    });
  </script>
</body>
</html>